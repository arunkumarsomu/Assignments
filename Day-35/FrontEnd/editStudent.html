<!DOCTYPE html>
<html>
<head>
<title>Edit Student Page</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="http://code.jquery.com/jquery-3.1.0.min.js"></script>
	 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script type="text/javascript">
	var id;
   var name;
   var sat;
   var gpa;
   var major;
   var studentData;
    
		var student;
		getCookie();
		var stud = studentData.toString();
		
		var comma = stud.indexOf(',');
		id = stud.slice(0,comma).trim();
		stud = stud.slice(comma+1,stud.length);
		comma = stud.indexOf(',');
		name = stud.slice(0,comma).trim();
		stud = stud.slice(comma+1,stud.length);
		comma = stud.indexOf(',');
		sat = stud.slice(0,comma).trim();
		stud = stud.slice(comma+1,stud.length);
		comma = stud.indexOf(',');
		gpa = stud.slice(0,comma).trim(); 
		stud = stud.slice(comma+1,stud.length);
		comma = stud.indexOf(',');
		major = stud.slice(0,comma).trim();
			
		
		console.log("id=",id);
		console.log("name=",name);
		console.log("sat=",sat);
		console.log("sgpa=",gpa);
		console.log("maj=",major);
			
		
		function getCookie() {
		studentData = localStorage.stud;
		console.log("Local2 = ",localStorage.stud);
		
			return "";
		}
		
		window.onload = function() {
       //when the document is finished loading, replace everything
       //between the <a ...> </a> tags with the value of splitText
			document.getElementById("studId").value=id;
			document.getElementById("studSat").value=sat;
			document.getElementById("studGpa").value=gpa;
			document.getElementById("studMajor").value=major;
			document.getElementById("studName").value=name;
						
		} 
		function updateStudent(){
			sat = document.getElementById("studSat").value;
			gpa=document.getElementById("studGpa").value;
			major=document.getElementById("studMajor").value;
			name=document.getElementById("studName").value;
		console.log("name=",name);
		console.log("sat=",sat);
		console.log("sgpa=",gpa);
		console.log("maj=",major);
		var newStud = [id,name,sat,gpa,major," "," "];
		console.log("New stud=",newStud);
		 localStorage.setItem("stud", newStud);
		var fname = name.slice(0,name.indexOf(" "));
		var lname = name.slice(name.indexOf(" ")+1,name.length);
		console.log("fname=",fname);
		console.log("lname=",lname);
		var editLink = "http://localhost:8080/student/update/" +id+"/"+fname+"/"+lname+"/"+sat+"/"+gpa+"/"+major;
				$.ajax({	
						url: editLink
						}).then(function(data) {
							console.log(data);
						});
						
		
		}
		
		
	</script>
   </head>
<body>
<h3> <a href=file:///C:/Users/admin/Desktop/htmls/studentPrint.html>Main Page</a> </h3>
<div class="container">
  <h2>Student Edit Form</h2>
<form action="javascript:updateStudent();">

  <fieldset>
   <div class="form-group">
	 ID:<input id="studId" class="form-control" name="ID" disabled>
    <br>
	 </div>
	  <div class="form-group">
    Fullname:
    <input id="studName"  class="form-control" type="text" >
    <br>
	 </div>	
	  <div class="form-group">
	SAT:<input id="studSat" class="form-control"  type="text" >
    <br>
	 </div>
	 <div class="form-group">
    GPA:
    <input id="studGpa" class="form-control" type="text"  >
    <br>
	 </div>
	 <div class="form-group">
	Major:
    <input id="studMajor" class="form-control" type="text"  >
    <br>
	 </div>
		
	<br>
    <input type="submit" value="Submit">
  </fieldset>
</form>
</div>


</body>
</html>
