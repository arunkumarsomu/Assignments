<!DOCTYPE html>
<html>
<head>
	<title>One Student Page</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="http://code.jquery.com/jquery-3.1.0.min.js"></script>
	 <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script type="text/javascript">
	var id;
   var name;
   var sat;
   var gpa;
   var major;
   var studentData;
   
$(document).ready(function() {
		var student;
		getCookie();
		var stud = studentData.toString();
		
		var comma = stud.indexOf(',');
		id = stud.slice(0,comma).trim();
		stud = stud.slice(comma+1,stud.length);
		comma = stud.indexOf(',');
		name = stud.slice(0,comma).trim();
		stud = stud.slice(comma+1,stud.length);
		comma = stud.indexOf(',');
		sat = stud.slice(0,comma).trim();
		stud = stud.slice(comma+1,stud.length);
		comma = stud.indexOf(',');
		gpa = stud.slice(0,comma).trim(); 
		stud = stud.slice(comma+1,stud.length);
		comma = stud.indexOf(',');
		major = stud.slice(0,comma).trim();
			
		
		console.log("id=",id);
		console.log("name=",name);
		console.log("sat=",sat);
		console.log("sgpa=",gpa);
		console.log("maj=",major);
		
		var row = "<tr><td>" + id + "</td><td>"+ name +"</td><td>  " + sat + "</td><td>" + gpa + "</td><td>" + major + "</td>";
		var button1 = '<td><a href="#"><span title="edit" class="glyphicon glyphicon-pencil"></span> </a> </td>' ;
		var button2 = '<td><a href="#"><span title="delete" class="glyphicon glyphicon-trash"></span> </a></td></tr>';
		row+= button1 + button2;
		$("#studentTable").append(row);
		
		
		function getCookie() {
		studentData = localStorage.stud;
		console.log("Local2 = ",localStorage.stud);
		
			return "";
		}

			$("tr").click(function(){
				   console.log("tr val is =",$(this).attr('value'));
					var trValue = $(this).attr('value');
					 id = $(this).find("td:first").html(); 
					var delLink = "http://localhost:8080/student/delete/" +id;						 
					console.log("id=",id);
						var tdValue = $(this).children('td').map(function (index, val) {
							return $(this).text();
							}).toArray();
							if (spanValue === "delete"){
								  console.log("delLink=",delLink);
								 if (confirm('Sure? you want to delete student?')) {
										alert('Thanks for confirming');
										
											$.ajax({	
												url: delLink
											}).then(function(data) {
												//console.log(data);
												alert(data);
												location.reload();
											});
											
											} else {
										alert('Student record remains :)');
									}
								  
										
							}
							if (spanValue === "edit"){
								  console.log("edit");
								  window.location.href="file:///C:/Users/admin/Desktop/htmls/editStudent.html";
									
							}
					console.log("tdValue = ",tdValue);	
					setCookie(tdValue);	
				});
			<!-- span click fun ->
				$("span").click(function(){
									spanValue =  $(this).attr("title");
				})  ;
			
}); <!-- end ready -->

	</script>
</head>
<body>
<style>
 tr {
    height: 50px;
	width:150px;
    vertical-align: bottom;
}
 th {
    height: 50px;
	width:150px;
    vertical-align: bottom;
}
 td {
    height: 50px;
    vertical-align: bottom;
}
</style>
<h3> <a href=file:///C:/Users/admin/Desktop/htmls/studentPrint.html>Main Page</a> </h3>
<h1> Student Details</h1>
<table id="studentTable" align="center" class="table-bordered" class="table-responsive">
  <tr class="table-bordered">
    <th class="studId">Id</th>
    <th>Full Name</th>
    <th class="SAT">SAT</th>
	<th>GPA</th>
	<th>Major Id</th>
	<th>Edit</th>
	<th>Delete</th>
  </tr
 </table>

</body>
 
</html>